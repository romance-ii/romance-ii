<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_18) on Thu Sep 30 09:56:20 EDT 2010 -->
<TITLE>
Payment
</TITLE>

<META NAME="date" CONTENT="2010-09-30">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Payment";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Payment.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/starhope/appius/mb/Messages.html" title="class in org.starhope.appius.mb"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/starhope/appius/mb/Payment.ItemType.html" title="enum in org.starhope.appius.mb"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/starhope/appius/mb/Payment.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Payment.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.starhope.appius.mb</FONT>
<BR>
Class Payment</H2>
<PRE>
<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html" title="class in org.starhope.appius.sql">org.starhope.appius.sql.SQLPeerDatum</A>
      <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>org.starhope.appius.mb.Payment</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="http://java.sun.com/javase/6/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang">Comparable</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&gt;</DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>Payment</B><DT>extends <A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html" title="class in org.starhope.appius.sql">SQLPeerDatum</A></DL>
</PRE>

<P>
Fairly complete encapsulation of all things related to an individual
 payment.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>brpocock@star-hope.org, twheys@gmail.com</DD>
<DT><B>See Also:</B><DD><A HREF="../../../../serialized-form.html#org.starhope.appius.mb.Payment">Serialized Form</A></DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.ItemType.html" title="enum in org.starhope.appius.mb">Payment.ItemType</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;What type of item is paid-for? Every class implementing
 <A HREF="../../../../org/starhope/appius/pay/util/Invoiceable.html" title="interface in org.starhope.appius.pay.util"><CODE>Invoiceable</CODE></A> should be on this list.</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#annotations">annotations</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 The collection of additional annotations for record-keeping or
 other purposes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#closed">closed</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Once this is set, no further setting is accepted to any internal
 fields: the payment record is closed out completely.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../org/starhope/appius/pay/util/PaymentCredential.html" title="class in org.starhope.appius.pay.util">PaymentCredential</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#credentials">credentials</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The payment credentials presented.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#expiryMonth">expiryMonth</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WRITEME</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#expiryYear">expiryYear</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The year in which the credit-card used to pay for this
 transaction will expire.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#firstTried">firstTried</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 The time at which we first tried to post this payment.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#lastTried">lastTried</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The time at which we last tried to re-submit a pending
 transaction</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#order_code">order_code</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The order code is an unique string for this order among all
 orders placed through a specific source (payment gateway,
 generally)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#order_source">order_source</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The order's source code is an identifier which maps to the
 payment gateway class, but is user-visible as a part of the total
 payment identifier (source, code, and sequence number)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#paid">paid</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The amount actually paid with this payment.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#payer">payer</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The identification of the payer</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#paymentFor">paymentFor</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WRITEME</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../org/starhope/appius/pay/util/PaymentGatewayReal.html" title="interface in org.starhope.appius.pay.util">PaymentGatewayReal</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#paymentGateway">paymentGateway</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Through what payment gateway was this payment processed?</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#price">price</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The price paid in this payment</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#resultReason">resultReason</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The reason for the failure (if it failed), or the authorization
 code for the success (if it succeeded)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#sequence">sequence</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The sequence number indicates a series of payments that are
 related to the same event; this is (always, right now, but)
 typically a subscription recurring every month.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#serialVersionUID">serialVersionUID</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Java serialisation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/sql/Timestamp.html?is-external=true" title="class or interface in java.sql">Timestamp</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#stamp">stamp</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The moment in time at which, per <em>our</em> accounting, this
 payment took place.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#success">success</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Was the payment a success? We keep records of failed payments,
 too, so it's important to ask that question.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#testMode">testMode</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Was this a test transaction, submitted by the system? It's
 possible.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#transactionCode">transactionCode</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The transaction code returned by the payment gateway</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../org/starhope/appius/mb/UserEnrolment.html" title="class in org.starhope.appius.mb">UserEnrolment</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#userEnrolment">userEnrolment</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If this payment was made for an enrolment subscription (right now
 (TODO) they all are), then this stores the pointer to the
 UserEnrolment record in question.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#verified">verified</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;True, if the payment has been reconciled or verified.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#Payment()">Payment</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a payment for which a subscription does not yet exist</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#Payment(java.lang.Class, java.util.HashMap)">Payment</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;<A HREF="../../../../org/starhope/appius/pay/AuthorizeNetGateway.html" title="class in org.starhope.appius.pay">AuthorizeNetGateway</A>&gt;&nbsp;gatewayClass,
        <A HREF="http://java.sun.com/javase/6/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt;&nbsp;authorizeNetData)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handle Silent Post data returned by Authorize.Net.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#Payment(java.sql.ResultSet)">Payment</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql">ResultSet</A>&nbsp;resultSet)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instantiate a Payment from the results returned by an SQL
 statement.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#Payment(java.lang.String, java.lang.String, int)">Payment</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;orderSourceID,
        <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;orderCodeString,
        int&nbsp;paymentSequenceNumber)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instantiate a copy of the Payment for a given order and sequence
 number.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#Payment(org.starhope.appius.mb.UserEnrolment)">Payment</A></B>(<A HREF="../../../../org/starhope/appius/mb/UserEnrolment.html" title="class in org.starhope.appius.mb">UserEnrolment</A>&nbsp;subscription)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new payment upon a given UserEnrolment</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#addAnnotation(java.lang.String, java.lang.String)">addAnnotation</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;key,
              <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WRITEME: document this method (brpocock@star-hope.org, Jul 13,
 2009)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../org/starhope/appius/mb/Payment.html" title="class in org.starhope.appius.mb">Payment</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#addPaymentToSequence(org.starhope.appius.mb.UserEnrolment)">addPaymentToSequence</A></B>(<A HREF="../../../../org/starhope/appius/mb/UserEnrolment.html" title="class in org.starhope.appius.mb">UserEnrolment</A>&nbsp;userEnrolment)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a new payment to the sequence for a User Enrolment.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#assertOpen()">assertOpen</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#changed()">changed</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WRITEME twheys@gmail.com</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#close()">close</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Close out the payment completely.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#flush()">flush</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getAnnotation(java.lang.String)">getAnnotation</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;key)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieve a specific annotation made against a payment.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getAnnotationNames()">getAnnotationNames</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieve an array of annotation names.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getCacheUniqueID()">getCacheUniqueID</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is an overriding method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/starhope/appius/pay/util/PaymentCredential.html" title="class in org.starhope.appius.pay.util">PaymentCredential</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getCredentials()">getCredentials</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 <strong>Note:</strong> Credentials for payment are <em>not</em>
 saved to JSON or database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/starhope/appius/mb/Currency.html" title="class in org.starhope.appius.mb">Currency</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getCurrency()">getCurrency</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the currency with which this payment was/will be made</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getExpiryMonth()">getExpiryMonth</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getExpiryYear()">getExpiryYear</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getGatewayTransactionCode()">getGatewayTransactionCode</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../org/starhope/appius/mb/Payment.html" title="class in org.starhope.appius.mb">Payment</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getLastPaymentFor(org.starhope.appius.mb.UserEnrolment)">getLastPaymentFor</A></B>(<A HREF="../../../../org/starhope/appius/mb/UserEnrolment.html" title="class in org.starhope.appius.mb">UserEnrolment</A>&nbsp;userEnrolment)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Find the last/latest payment made on a specific enrolment</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getPaid()">getPaid</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getPayer()">getPayer</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getPayment_for()">getPayment_for</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getPaymentFor()">getPaymentFor</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/starhope/appius/mb/PaymentGateway.html" title="class in org.starhope.appius.mb">PaymentGateway</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getPaymentGateway()">getPaymentGateway</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getPrice()">getPrice</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/starhope/appius/mb/Payment.html" title="class in org.starhope.appius.mb">Payment</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getPriorPayment()">getPriorPayment</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getResultReason()">getResultReason</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getRetryTime()">getRetryTime</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 If this payment is pending, and we're holding credentials in
 core, we need to figure out how long before we try again.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getSequence()">getSequence</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getStamp()">getStamp</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/starhope/appius/mb/Payment.html" title="class in org.starhope.appius.mb">Payment</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getStatusFromGateway()">getStatusFromGateway</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FIXME ...</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/starhope/appius/mb/UserEnrolment.html" title="class in org.starhope.appius.mb">UserEnrolment</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#getUserEnrolment()">getUserEnrolment</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#init(java.lang.String, java.lang.String, int)">init</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;orderSourceID,
     <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;orderCodeString,
     int&nbsp;paymentSequenceNumber)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#isClosed()">isClosed</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#isCompleted()">isCompleted</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#isSuccess()">isSuccess</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#isTest()">isTest</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#isVerified()">isVerified</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#prepareForRetry(org.starhope.appius.pay.util.RetryPaymentException)">prepareForRetry</A></B>(<A HREF="../../../../org/starhope/appius/pay/util/RetryPaymentException.html" title="class in org.starhope.appius.pay.util">RetryPaymentException</A>&nbsp;retryPaymentException)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If a payment should retry processing in future (e.g.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#set(java.sql.ResultSet)">set</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql">ResultSet</A>&nbsp;rs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#setCredentials(org.starhope.appius.pay.util.PaymentCredential)">setCredentials</A></B>(<A HREF="../../../../org/starhope/appius/pay/util/PaymentCredential.html" title="class in org.starhope.appius.pay.util">PaymentCredential</A>&nbsp;paymentCredentials)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#setExpiryMonth(int)">setExpiryMonth</A></B>(int&nbsp;expiryMonth1)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#setExpiryYear(int)">setExpiryYear</A></B>(int&nbsp;expiryYear1)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#setGatewayTransactionCode(java.math.BigDecimal)">setGatewayTransactionCode</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A>&nbsp;transactionCodeNumber)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#setPaid(java.math.BigDecimal)">setPaid</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A>&nbsp;paid1)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#setPayer(java.lang.String)">setPayer</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;newPayer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#setPayment_for(java.lang.String)">setPayment_for</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;payment_for1)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#setPaymentFor(java.lang.String)">setPaymentFor</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;payment_for1)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#setPaymentGateway(org.starhope.appius.pay.util.PaymentGatewayReal)">setPaymentGateway</A></B>(<A HREF="../../../../org/starhope/appius/pay/util/PaymentGatewayReal.html" title="interface in org.starhope.appius.pay.util">PaymentGatewayReal</A>&nbsp;paymentGatewayReal)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#setPrice(java.math.BigDecimal)">setPrice</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A>&nbsp;price1)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#setResultReason(java.lang.String)">setResultReason</A></B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;resultReason1)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#setSequence(int)">setSequence</A></B>(int&nbsp;sequence1)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#setSuccess(boolean)">setSuccess</A></B>(boolean&nbsp;success1)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 <strong>Note:</strong> Once this routine has been called, most of
 the setters in this Payment will refuse to operate.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#setTest(boolean)">setTest</A></B>(boolean&nbsp;testMode1)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#setVerified(boolean)">setVerified</A></B>(boolean&nbsp;verified1)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#shouldRetry()">shouldRetry</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#shredCredentials()">shredCredentials</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Destroy the credentials utterly, once and for all.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#stamp()">stamp</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WRITEME: document this method (brpocock@star-hope.org, Oct 13,
 2009)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.json.JSONObject</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#toJSON()">toJSON</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 Note, we do <em>not</em> save credentials to any kind of stream
 or storage (JSON, SQL, &c.).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/starhope/appius/mb/Payment.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.starhope.appius.sql.SQLPeerDatum"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.starhope.appius.sql.<A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html" title="class in org.starhope.appius.sql">SQLPeerDatum</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html#compareTo(java.lang.Object)">compareTo</A>, <A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html#findInCache()">findInCache</A>, <A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html#get(java.lang.Class, org.json.JSONObject)">get</A>, <A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html#saveInCache()">saveInCache</A>, <A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html#set(org.json.JSONObject)">set</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="serialVersionUID"><!-- --></A><H3>
serialVersionUID</H3>
<PRE>
private static final long <B>serialVersionUID</B></PRE>
<DL>
<DD>Java serialisation. Serial version number of interface
 compatibility
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.starhope.appius.mb.Payment.serialVersionUID">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="annotations"><!-- --></A><H3>
annotations</H3>
<PRE>
private <A HREF="http://java.sun.com/javase/6/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt; <B>annotations</B></PRE>
<DL>
<DD><p>
 The collection of additional annotations for record-keeping or
 other purposes. These are things not used by the system, but
 which are tracked in case they're useful for human review,
 auditing, etc.
 </p>
 <p>
 Annotations are keyed off dotted domain sequences in the same
 general fashion as Java class names, etc.
 </p>
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="closed"><!-- --></A><H3>
closed</H3>
<PRE>
private boolean <B>closed</B></PRE>
<DL>
<DD>Once this is set, no further setting is accepted to any internal
 fields: the payment record is closed out completely.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="credentials"><!-- --></A><H3>
credentials</H3>
<PRE>
private transient <A HREF="../../../../org/starhope/appius/pay/util/PaymentCredential.html" title="class in org.starhope.appius.pay.util">PaymentCredential</A> <B>credentials</B></PRE>
<DL>
<DD>The payment credentials presented. This is usually a credit-card
 number; or could be some other type of credentials from e.g. a
 gift card or PayPal or something.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="expiryMonth"><!-- --></A><H3>
expiryMonth</H3>
<PRE>
private int <B>expiryMonth</B></PRE>
<DL>
<DD>WRITEME
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="expiryYear"><!-- --></A><H3>
expiryYear</H3>
<PRE>
private int <B>expiryYear</B></PRE>
<DL>
<DD>The year in which the credit-card used to pay for this
 transaction will expire. Actual year value, 2009 = 2009.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="firstTried"><!-- --></A><H3>
firstTried</H3>
<PRE>
private transient <A HREF="http://java.sun.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</A> <B>firstTried</B></PRE>
<DL>
<DD><p>
 The time at which we first tried to post this payment. If a
 temporary problem was encountered, we can hold on to it (in core)
 and retry for a while, until a (configured) timeout has been
 reached.
 </p>
 <p>
 This field is <em>not</em> persistent.
 </p>
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="lastTried"><!-- --></A><H3>
lastTried</H3>
<PRE>
private transient long <B>lastTried</B></PRE>
<DL>
<DD>The time at which we last tried to re-submit a pending
 transaction
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="order_code"><!-- --></A><H3>
order_code</H3>
<PRE>
private <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>order_code</B></PRE>
<DL>
<DD>The order code is an unique string for this order among all
 orders placed through a specific source (payment gateway,
 generally)
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="order_source"><!-- --></A><H3>
order_source</H3>
<PRE>
private <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>order_source</B></PRE>
<DL>
<DD>The order's source code is an identifier which maps to the
 payment gateway class, but is user-visible as a part of the total
 payment identifier (source, code, and sequence number)
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="paid"><!-- --></A><H3>
paid</H3>
<PRE>
private <A HREF="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A> <B>paid</B></PRE>
<DL>
<DD>The amount actually paid with this payment. This should generally
 be the same as the price (I can't think of a valid
 counter-example!)
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="payer"><!-- --></A><H3>
payer</H3>
<PRE>
private <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>payer</B></PRE>
<DL>
<DD>The identification of the payer
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="paymentFor"><!-- --></A><H3>
paymentFor</H3>
<PRE>
private <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>paymentFor</B></PRE>
<DL>
<DD>WRITEME
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="paymentGateway"><!-- --></A><H3>
paymentGateway</H3>
<PRE>
private <A HREF="../../../../org/starhope/appius/pay/util/PaymentGatewayReal.html" title="interface in org.starhope.appius.pay.util">PaymentGatewayReal</A> <B>paymentGateway</B></PRE>
<DL>
<DD>Through what payment gateway was this payment processed?
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="price"><!-- --></A><H3>
price</H3>
<PRE>
private <A HREF="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A> <B>price</B></PRE>
<DL>
<DD>The price paid in this payment
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="resultReason"><!-- --></A><H3>
resultReason</H3>
<PRE>
private <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>resultReason</B></PRE>
<DL>
<DD>The reason for the failure (if it failed), or the authorization
 code for the success (if it succeeded)
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="sequence"><!-- --></A><H3>
sequence</H3>
<PRE>
private int <B>sequence</B></PRE>
<DL>
<DD>The sequence number indicates a series of payments that are
 related to the same event; this is (always, right now, but)
 typically a subscription recurring every month.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="stamp"><!-- --></A><H3>
stamp</H3>
<PRE>
private <A HREF="http://java.sun.com/javase/6/docs/api/java/sql/Timestamp.html?is-external=true" title="class or interface in java.sql">Timestamp</A> <B>stamp</B></PRE>
<DL>
<DD>The moment in time at which, per <em>our</em> accounting, this
 payment took place. Note that the user might see a different time
 on his or her wall clock or credit card statements, &c. There is
 a degree of ambiguity about when various people consider the
 transaction to have been completed. Per our purposes, this is
 that moment.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="success"><!-- --></A><H3>
success</H3>
<PRE>
private boolean <B>success</B></PRE>
<DL>
<DD>Was the payment a success? We keep records of failed payments,
 too, so it's important to ask that question.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="testMode"><!-- --></A><H3>
testMode</H3>
<PRE>
private boolean <B>testMode</B></PRE>
<DL>
<DD>Was this a test transaction, submitted by the system? It's
 possible. If this is <code>true</code>, we shouldn't give out
 anything because of it.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="transactionCode"><!-- --></A><H3>
transactionCode</H3>
<PRE>
private <A HREF="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A> <B>transactionCode</B></PRE>
<DL>
<DD>The transaction code returned by the payment gateway
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="userEnrolment"><!-- --></A><H3>
userEnrolment</H3>
<PRE>
private <A HREF="../../../../org/starhope/appius/mb/UserEnrolment.html" title="class in org.starhope.appius.mb">UserEnrolment</A> <B>userEnrolment</B></PRE>
<DL>
<DD>If this payment was made for an enrolment subscription (right now
 (TODO) they all are), then this stores the pointer to the
 UserEnrolment record in question.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="verified"><!-- --></A><H3>
verified</H3>
<PRE>
private boolean <B>verified</B></PRE>
<DL>
<DD>True, if the payment has been reconciled or verified.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="Payment()"><!-- --></A><H3>
Payment</H3>
<PRE>
public <B>Payment</B>()</PRE>
<DL>
<DD>Create a payment for which a subscription does not yet exist
<P>
</DL>
<HR>

<A NAME="Payment(java.lang.Class, java.util.HashMap)"><!-- --></A><H3>
Payment</H3>
<PRE>
public <B>Payment</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;<A HREF="../../../../org/starhope/appius/pay/AuthorizeNetGateway.html" title="class in org.starhope.appius.pay">AuthorizeNetGateway</A>&gt;&nbsp;gatewayClass,
               <A HREF="http://java.sun.com/javase/6/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</A>&lt;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>,<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt;&nbsp;authorizeNetData)</PRE>
<DL>
<DD>Handle Silent Post data returned by Authorize.Net.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>gatewayClass</CODE> - The class responsible for this payment;
            should always be AuthorizeNetGateway for now. Provides
            an easy hook to make sure we're in the right place,
            not processing e.g. PayPal data here.<DD><CODE>authorizeNetData</CODE> - The key:value pairs of the data from
            Authorize.Net</DL>
</DL>
<HR>

<A NAME="Payment(java.sql.ResultSet)"><!-- --></A><H3>
Payment</H3>
<PRE>
public <B>Payment</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql">ResultSet</A>&nbsp;resultSet)
        throws <A HREF="http://java.sun.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></PRE>
<DL>
<DD>Instantiate a Payment from the results returned by an SQL
 statement. This allows an arbitrary SELECT to be performed
 outside of this class, and objects created from the results.
 Note, even if you are expecting only one return, the JDBC objects
 start at index -1 in the ResultSet, so you must call
 resultSet.next () at least once to get the first row.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>resultSet</CODE> - The SQL ResultSet with the cursor currently on
            the row from which this Payment is to be instantiated.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></CODE> - if we can't cooperate with the database.
             Note that we initiate a secondary query on the same
             connection to obtain annotations, so there is more
             happening here than just fetching results from the
             existing ResultSet. If, for example, the connection
             were closed in between retrieving the ResultSet
             including this payment and instantiating it, it would
             throw some SQL exceptions related to that failure.</DL>
</DL>
<HR>

<A NAME="Payment(java.lang.String, java.lang.String, int)"><!-- --></A><H3>
Payment</H3>
<PRE>
public <B>Payment</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;orderSourceID,
               <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;orderCodeString,
               int&nbsp;paymentSequenceNumber)
        throws <A HREF="../../../../org/starhope/appius/except/NotFoundException.html" title="class in org.starhope.appius.except">NotFoundException</A></PRE>
<DL>
<DD>Instantiate a copy of the Payment for a given order and sequence
 number.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>orderSourceID</CODE> - The payment gateway originating the order<DD><CODE>orderCodeString</CODE> - The unique order code<DD><CODE>paymentSequenceNumber</CODE> - The sequence number
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/starhope/appius/except/NotFoundException.html" title="class in org.starhope.appius.except">NotFoundException</A></CODE> - if the payment cant't be found.</DL>
</DL>
<HR>

<A NAME="Payment(org.starhope.appius.mb.UserEnrolment)"><!-- --></A><H3>
Payment</H3>
<PRE>
public <B>Payment</B>(<A HREF="../../../../org/starhope/appius/mb/UserEnrolment.html" title="class in org.starhope.appius.mb">UserEnrolment</A>&nbsp;subscription)</PRE>
<DL>
<DD>Create a new payment upon a given UserEnrolment
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>subscription</CODE> - WRITEME</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="addPaymentToSequence(org.starhope.appius.mb.UserEnrolment)"><!-- --></A><H3>
addPaymentToSequence</H3>
<PRE>
public static <A HREF="../../../../org/starhope/appius/mb/Payment.html" title="class in org.starhope.appius.mb">Payment</A> <B>addPaymentToSequence</B>(<A HREF="../../../../org/starhope/appius/mb/UserEnrolment.html" title="class in org.starhope.appius.mb">UserEnrolment</A>&nbsp;userEnrolment)
                                    throws <A HREF="../../../../org/starhope/appius/except/NotFoundException.html" title="class in org.starhope.appius.except">NotFoundException</A></PRE>
<DL>
<DD>Adds a new payment to the sequence for a User Enrolment.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userEnrolment</CODE> - The user enrolment to add a payment to.
<DT><B>Returns:</B><DD>The new Payment.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/starhope/appius/except/NotFoundException.html" title="class in org.starhope.appius.except">NotFoundException</A></CODE> - If the last payment cannot be found.</DL>
</DD>
</DL>
<HR>

<A NAME="getLastPaymentFor(org.starhope.appius.mb.UserEnrolment)"><!-- --></A><H3>
getLastPaymentFor</H3>
<PRE>
public static <A HREF="../../../../org/starhope/appius/mb/Payment.html" title="class in org.starhope.appius.mb">Payment</A> <B>getLastPaymentFor</B>(<A HREF="../../../../org/starhope/appius/mb/UserEnrolment.html" title="class in org.starhope.appius.mb">UserEnrolment</A>&nbsp;userEnrolment)
                                 throws <A HREF="../../../../org/starhope/appius/except/NotFoundException.html" title="class in org.starhope.appius.except">NotFoundException</A></PRE>
<DL>
<DD>Find the last/latest payment made on a specific enrolment
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userEnrolment</CODE> - the enrolment (subscription) object
<DT><B>Returns:</B><DD>the last/latest payment made, if any
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/starhope/appius/except/NotFoundException.html" title="class in org.starhope.appius.except">NotFoundException</A></CODE> - if there are no payments made</DL>
</DD>
</DL>
<HR>

<A NAME="addAnnotation(java.lang.String, java.lang.String)"><!-- --></A><H3>
addAnnotation</H3>
<PRE>
public void <B>addAnnotation</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;key,
                          <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;value)
                   throws <A HREF="../../../../org/starhope/appius/except/AlreadyUsedException.html" title="class in org.starhope.appius.except">AlreadyUsedException</A></PRE>
<DL>
<DD>WRITEME: document this method (brpocock@star-hope.org, Jul 13,
 2009)
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - The annotation's key (in inverse-dotted notation)<DD><CODE>value</CODE> - The value for this annotation
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/starhope/appius/except/AlreadyUsedException.html" title="class in org.starhope.appius.except">AlreadyUsedException</A></CODE> - if the annotation exists<DT><B>See Also:</B><DD><A HREF="../../../../org/starhope/appius/mb/Payment.html#annotations"><CODE>annotations</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="assertOpen()"><!-- --></A><H3>
assertOpen</H3>
<PRE>
private void <B>assertOpen</B>()
                 throws <A HREF="../../../../org/starhope/appius/except/AlreadyUsedException.html" title="class in org.starhope.appius.except">AlreadyUsedException</A></PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/starhope/appius/except/AlreadyUsedException.html" title="class in org.starhope.appius.except">AlreadyUsedException</A></CODE> - if the payment has been posted</DL>
</DD>
</DL>
<HR>

<A NAME="changed()"><!-- --></A><H3>
changed</H3>
<PRE>
public void <B>changed</B>()</PRE>
<DL>
<DD>WRITEME twheys@gmail.com
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html#changed()">changed</A></CODE> in class <CODE><A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html" title="class in org.starhope.appius.sql">SQLPeerDatum</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="close()"><!-- --></A><H3>
close</H3>
<PRE>
public void <B>close</B>()
           throws <A HREF="http://java.sun.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></PRE>
<DL>
<DD>Close out the payment completely. After
 <A HREF="../../../../org/starhope/appius/mb/Payment.html#setSuccess(boolean)"><CODE>setSuccess(boolean)</CODE></A>, the payment enters a state of
 “closing out” for post-processing details only to be added to it.
 Once this routine is called, the payment is totally frozen.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></CODE> - WRITEME</DL>
</DD>
</DL>
<HR>

<A NAME="flush()"><!-- --></A><H3>
flush</H3>
<PRE>
public void <B>flush</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html#flush()">flush</A></CODE> in class <CODE><A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html" title="class in org.starhope.appius.sql">SQLPeerDatum</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html#flush()"><CODE>SQLPeerDatum.flush()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getAnnotation(java.lang.String)"><!-- --></A><H3>
getAnnotation</H3>
<PRE>
public <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getAnnotation</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;key)</PRE>
<DL>
<DD>Retrieve a specific annotation made against a payment. Returns ""
 if the annotation were unset.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - the ID of the annotation
<DT><B>Returns:</B><DD>the value</DL>
</DD>
</DL>
<HR>

<A NAME="getAnnotationNames()"><!-- --></A><H3>
getAnnotationNames</H3>
<PRE>
public <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>[] <B>getAnnotationNames</B>()</PRE>
<DL>
<DD>Retrieve an array of annotation names.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>A String array of the names of annotations.</DL>
</DD>
</DL>
<HR>

<A NAME="getCacheUniqueID()"><!-- --></A><H3>
getCacheUniqueID</H3>
<PRE>
protected <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getCacheUniqueID</B>()</PRE>
<DL>
<DD>This is an overriding method.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html#getCacheUniqueID()">getCacheUniqueID</A></CODE> in class <CODE><A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html" title="class in org.starhope.appius.sql">SQLPeerDatum</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The local (Stringified) version of an unique ID; usually
         the database ID column<DT><B>See Also:</B><DD><A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html#getCacheUniqueID()"><CODE>SQLPeerDatum.getCacheUniqueID()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getCredentials()"><!-- --></A><H3>
getCredentials</H3>
<PRE>
public <A HREF="../../../../org/starhope/appius/pay/util/PaymentCredential.html" title="class in org.starhope.appius.pay.util">PaymentCredential</A> <B>getCredentials</B>()</PRE>
<DL>
<DD><p>
 <strong>Note:</strong> Credentials for payment are <em>not</em>
 saved to JSON or database. As such, they only persist as long as
 they're held in-core.
 </p>
 <p>
 For this reason, we need to hold on to pending payments'
 references to avoid potential GC. We <em>cannot</em>
 re-instantiate a non-completed payment from the database.
 </p>
 <p>
 <em>This is an <strong>intentional</strong> security precaution.</em>
 </p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the credentials used to make the payment.</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrency()"><!-- --></A><H3>
getCurrency</H3>
<PRE>
public <A HREF="../../../../org/starhope/appius/mb/Currency.html" title="class in org.starhope.appius.mb">Currency</A> <B>getCurrency</B>()</PRE>
<DL>
<DD>Get the currency with which this payment was/will be made
 <p>
 As with many things, this is still hardcoded as USD.
 </p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the currency used to make this payment</DL>
</DD>
</DL>
<HR>

<A NAME="getExpiryMonth()"><!-- --></A><H3>
getExpiryMonth</H3>
<PRE>
public int <B>getExpiryMonth</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the expiryMonth</DL>
</DD>
</DL>
<HR>

<A NAME="getExpiryYear()"><!-- --></A><H3>
getExpiryYear</H3>
<PRE>
public int <B>getExpiryYear</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the expiryYear</DL>
</DD>
</DL>
<HR>

<A NAME="getGatewayTransactionCode()"><!-- --></A><H3>
getGatewayTransactionCode</H3>
<PRE>
public <A HREF="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A> <B>getGatewayTransactionCode</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>The transaction code provided by the payment gateway</DL>
</DD>
</DL>
<HR>

<A NAME="getPaid()"><!-- --></A><H3>
getPaid</H3>
<PRE>
public <A HREF="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A> <B>getPaid</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the paid</DL>
</DD>
</DL>
<HR>

<A NAME="getPayer()"><!-- --></A><H3>
getPayer</H3>
<PRE>
public <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getPayer</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>get the name or other identification provided by the
         gateway of the payer. (Non-confidential but potentially
         personally identifiable.)</DL>
</DD>
</DL>
<HR>

<A NAME="getPayment_for()"><!-- --></A><H3>
getPayment_for</H3>
<PRE>
<FONT SIZE="-1"><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</A>
</FONT>public <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getPayment_for</B>()</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;
<P>
<DD>Use <A HREF="../../../../org/starhope/appius/mb/Payment.html#getPaymentFor()"><CODE>getPaymentFor()</CODE></A> instead
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the payment_for</DL>
</DD>
</DL>
<HR>

<A NAME="getPaymentFor()"><!-- --></A><H3>
getPaymentFor</H3>
<PRE>
public <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getPaymentFor</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the payment_for</DL>
</DD>
</DL>
<HR>

<A NAME="getPaymentGateway()"><!-- --></A><H3>
getPaymentGateway</H3>
<PRE>
public <A HREF="../../../../org/starhope/appius/mb/PaymentGateway.html" title="class in org.starhope.appius.mb">PaymentGateway</A> <B>getPaymentGateway</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>The payment gateway used to make this payment</DL>
</DD>
</DL>
<HR>

<A NAME="getPrice()"><!-- --></A><H3>
getPrice</H3>
<PRE>
public <A HREF="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A> <B>getPrice</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the price</DL>
</DD>
</DL>
<HR>

<A NAME="getPriorPayment()"><!-- --></A><H3>
getPriorPayment</H3>
<PRE>
public <A HREF="../../../../org/starhope/appius/mb/Payment.html" title="class in org.starhope.appius.mb">Payment</A> <B>getPriorPayment</B>()
                        throws <A HREF="../../../../org/starhope/appius/except/NotFoundException.html" title="class in org.starhope.appius.except">NotFoundException</A></PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>The prior payment in this subscription or other recurring
         payment arrangement
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/starhope/appius/except/NotFoundException.html" title="class in org.starhope.appius.except">NotFoundException</A></CODE> - if there wasn't a prior sequence
         payment.</DL>
</DD>
</DL>
<HR>

<A NAME="getResultReason()"><!-- --></A><H3>
getResultReason</H3>
<PRE>
public <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>getResultReason</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the failedReason</DL>
</DD>
</DL>
<HR>

<A NAME="getRetryTime()"><!-- --></A><H3>
getRetryTime</H3>
<PRE>
public <A HREF="http://java.sun.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</A> <B>getRetryTime</B>()
                  throws <A HREF="../../../../org/starhope/appius/except/AlreadyUsedException.html" title="class in org.starhope.appius.except">AlreadyUsedException</A>,
                         <A HREF="../../../../org/starhope/appius/except/DataException.html" title="class in org.starhope.appius.except">DataException</A></PRE>
<DL>
<DD><p>
 If this payment is pending, and we're holding credentials in
 core, we need to figure out how long before we try again. In the
 spirit of exponential back-off, we'll try every 1 minute for the
 first 10 minutes, then back off to every 5 minutes for the next
 50 minutes, after which we'll go to every 15 minutes until it's
 been 12 hours, after which time, we'll try every hour until the
 payment record is dropped.
 </p>
 <p>
 Note that we need to keep a hard reference to this Payment in the
 timer routine handling re-submissions, because if the Payment
 record is purged from the cache, we lose the credentials. This is
 intentional: we don't want to keep credentials lying around,
 ever.
 </p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the date at which we'll next try to complete this payment
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/starhope/appius/except/AlreadyUsedException.html" title="class in org.starhope.appius.except">AlreadyUsedException</A></CODE> - if the payment can't be retried
<DD><CODE><A HREF="../../../../org/starhope/appius/except/DataException.html" title="class in org.starhope.appius.except">DataException</A></CODE> - if there are no payment credentials
             available for retrying</DL>
</DD>
</DL>
<HR>

<A NAME="getSequence()"><!-- --></A><H3>
getSequence</H3>
<PRE>
public int <B>getSequence</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the sequence</DL>
</DD>
</DL>
<HR>

<A NAME="getStamp()"><!-- --></A><H3>
getStamp</H3>
<PRE>
public <A HREF="http://java.sun.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</A> <B>getStamp</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>The date and time at which this payment was made</DL>
</DD>
</DL>
<HR>

<A NAME="getStatusFromGateway()"><!-- --></A><H3>
getStatusFromGateway</H3>
<PRE>
public <A HREF="../../../../org/starhope/appius/mb/Payment.html" title="class in org.starhope.appius.mb">Payment</A> <B>getStatusFromGateway</B>()</PRE>
<DL>
<DD>FIXME ... this is silly ... ? COMPARE it?
<P>
<DD><DL>

<DT><B>Returns:</B><DD>verify the payment's information against the transaction
         gateway</DL>
</DD>
</DL>
<HR>

<A NAME="getUserEnrolment()"><!-- --></A><H3>
getUserEnrolment</H3>
<PRE>
public <A HREF="../../../../org/starhope/appius/mb/UserEnrolment.html" title="class in org.starhope.appius.mb">UserEnrolment</A> <B>getUserEnrolment</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>The user enrolment for which this payment was made.</DL>
</DD>
</DL>
<HR>

<A NAME="init(java.lang.String, java.lang.String, int)"><!-- --></A><H3>
init</H3>
<PRE>
private void <B>init</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;orderSourceID,
                  <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;orderCodeString,
                  int&nbsp;paymentSequenceNumber)
           throws <A HREF="../../../../org/starhope/appius/except/NotFoundException.html" title="class in org.starhope.appius.except">NotFoundException</A></PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>orderSourceID</CODE> - WRITEME<DD><CODE>orderCodeString</CODE> - WRITEME<DD><CODE>paymentSequenceNumber</CODE> - WRITEME
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/starhope/appius/except/NotFoundException.html" title="class in org.starhope.appius.except">NotFoundException</A></CODE> - WRITEME</DL>
</DD>
</DL>
<HR>

<A NAME="isClosed()"><!-- --></A><H3>
isClosed</H3>
<PRE>
public boolean <B>isClosed</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>true if the payment is closed. See <A HREF="../../../../org/starhope/appius/mb/Payment.html#closed"><CODE>closed</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="isCompleted()"><!-- --></A><H3>
isCompleted</H3>
<PRE>
public boolean <B>isCompleted</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>true if the payment has been completed (successfully or
         otherwise)</DL>
</DD>
</DL>
<HR>

<A NAME="isSuccess()"><!-- --></A><H3>
isSuccess</H3>
<PRE>
public boolean <B>isSuccess</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>true if the payment was successful.</DL>
</DD>
</DL>
<HR>

<A NAME="isTest()"><!-- --></A><H3>
isTest</H3>
<PRE>
public boolean <B>isTest</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>true, if this was a test (and not an actual payment)</DL>
</DD>
</DL>
<HR>

<A NAME="isVerified()"><!-- --></A><H3>
isVerified</H3>
<PRE>
public boolean <B>isVerified</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the verified</DL>
</DD>
</DL>
<HR>

<A NAME="prepareForRetry(org.starhope.appius.pay.util.RetryPaymentException)"><!-- --></A><H3>
prepareForRetry</H3>
<PRE>
public void <B>prepareForRetry</B>(<A HREF="../../../../org/starhope/appius/pay/util/RetryPaymentException.html" title="class in org.starhope.appius.pay.util">RetryPaymentException</A>&nbsp;retryPaymentException)
                     throws <A HREF="../../../../org/starhope/appius/except/AlreadyUsedException.html" title="class in org.starhope.appius.except">AlreadyUsedException</A>,
                            <A HREF="../../../../org/starhope/appius/except/DataException.html" title="class in org.starhope.appius.except">DataException</A></PRE>
<DL>
<DD>If a payment should retry processing in future (e.g. failure of
 payment gateway) this is where we enqueue that attempt
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>retryPaymentException</CODE> - the exception causing this to be
            scheduled for a do-over
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/starhope/appius/except/DataException.html" title="class in org.starhope.appius.except">DataException</A></CODE> - ...
<DD><CODE><A HREF="../../../../org/starhope/appius/except/AlreadyUsedException.html" title="class in org.starhope.appius.except">AlreadyUsedException</A></CODE> - ...</DL>
</DD>
</DL>
<HR>

<A NAME="set(java.sql.ResultSet)"><!-- --></A><H3>
set</H3>
<PRE>
protected void <B>set</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/sql/ResultSet.html?is-external=true" title="class or interface in java.sql">ResultSet</A>&nbsp;rs)</PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html#set(java.sql.ResultSet)">set</A></CODE> in class <CODE><A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html" title="class in org.starhope.appius.sql">SQLPeerDatum</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>rs</CODE> - The result of an SQL query, with the cursor already
        pointed at the row describing this specific instance of
        the object.<DT><B>See Also:</B><DD><A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html#set(java.sql.ResultSet)"><CODE>SQLPeerDatum.set(java.sql.ResultSet)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="setCredentials(org.starhope.appius.pay.util.PaymentCredential)"><!-- --></A><H3>
setCredentials</H3>
<PRE>
public void <B>setCredentials</B>(<A HREF="../../../../org/starhope/appius/pay/util/PaymentCredential.html" title="class in org.starhope.appius.pay.util">PaymentCredential</A>&nbsp;paymentCredentials)
                    throws <A HREF="../../../../org/starhope/appius/except/AlreadyUsedException.html" title="class in org.starhope.appius.except">AlreadyUsedException</A></PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>paymentCredentials</CODE> - the credentials to set
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/starhope/appius/except/AlreadyUsedException.html" title="class in org.starhope.appius.except">AlreadyUsedException</A></CODE> - if the payment is closed</DL>
</DD>
</DL>
<HR>

<A NAME="setExpiryMonth(int)"><!-- --></A><H3>
setExpiryMonth</H3>
<PRE>
public void <B>setExpiryMonth</B>(int&nbsp;expiryMonth1)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>expiryMonth1</CODE> - the expiryMonth to set</DL>
</DD>
</DL>
<HR>

<A NAME="setExpiryYear(int)"><!-- --></A><H3>
setExpiryYear</H3>
<PRE>
public void <B>setExpiryYear</B>(int&nbsp;expiryYear1)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>expiryYear1</CODE> - the expiryYear to set</DL>
</DD>
</DL>
<HR>

<A NAME="setGatewayTransactionCode(java.math.BigDecimal)"><!-- --></A><H3>
setGatewayTransactionCode</H3>
<PRE>
public void <B>setGatewayTransactionCode</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A>&nbsp;transactionCodeNumber)
                               throws <A HREF="../../../../org/starhope/appius/except/AlreadyUsedException.html" title="class in org.starhope.appius.except">AlreadyUsedException</A></PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>transactionCodeNumber</CODE> - the transaction code number returned
        by the payment gateway
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/starhope/appius/except/AlreadyUsedException.html" title="class in org.starhope.appius.except">AlreadyUsedException</A></CODE> - if this payment has already gotten a
         transaction number</DL>
</DD>
</DL>
<HR>

<A NAME="setPaid(java.math.BigDecimal)"><!-- --></A><H3>
setPaid</H3>
<PRE>
public void <B>setPaid</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A>&nbsp;paid1)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>paid1</CODE> - the amount paid</DL>
</DD>
</DL>
<HR>

<A NAME="setPayer(java.lang.String)"><!-- --></A><H3>
setPayer</H3>
<PRE>
public void <B>setPayer</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;newPayer)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>newPayer</CODE> - The payer for this payment</DL>
</DD>
</DL>
<HR>

<A NAME="setPayment_for(java.lang.String)"><!-- --></A><H3>
setPayment_for</H3>
<PRE>
<FONT SIZE="-1"><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</A>
</FONT>public void <B>setPayment_for</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;payment_for1)</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;
<P>
<DD>use <A HREF="../../../../org/starhope/appius/mb/Payment.html#setPaymentFor(java.lang.String)"><CODE>setPaymentFor(String)</CODE></A> instead.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>payment_for1</CODE> - WRITEME</DL>
</DD>
</DL>
<HR>

<A NAME="setPaymentFor(java.lang.String)"><!-- --></A><H3>
setPaymentFor</H3>
<PRE>
public void <B>setPaymentFor</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;payment_for1)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>payment_for1</CODE> - the payment_for to set</DL>
</DD>
</DL>
<HR>

<A NAME="setPaymentGateway(org.starhope.appius.pay.util.PaymentGatewayReal)"><!-- --></A><H3>
setPaymentGateway</H3>
<PRE>
public void <B>setPaymentGateway</B>(<A HREF="../../../../org/starhope/appius/pay/util/PaymentGatewayReal.html" title="interface in org.starhope.appius.pay.util">PaymentGatewayReal</A>&nbsp;paymentGatewayReal)
                       throws <A HREF="../../../../org/starhope/appius/except/AlreadyUsedException.html" title="class in org.starhope.appius.except">AlreadyUsedException</A></PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>paymentGatewayReal</CODE> - Set the payment gateway through which
        this payment was made
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/starhope/appius/except/AlreadyUsedException.html" title="class in org.starhope.appius.except">AlreadyUsedException</A></CODE> - if the payment has already been made</DL>
</DD>
</DL>
<HR>

<A NAME="setPrice(java.math.BigDecimal)"><!-- --></A><H3>
setPrice</H3>
<PRE>
public void <B>setPrice</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/math/BigDecimal.html?is-external=true" title="class or interface in java.math">BigDecimal</A>&nbsp;price1)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>price1</CODE> - the price to set</DL>
</DD>
</DL>
<HR>

<A NAME="setResultReason(java.lang.String)"><!-- --></A><H3>
setResultReason</H3>
<PRE>
public void <B>setResultReason</B>(<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;resultReason1)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>resultReason1</CODE> - the failedReason to set</DL>
</DD>
</DL>
<HR>

<A NAME="setSequence(int)"><!-- --></A><H3>
setSequence</H3>
<PRE>
public void <B>setSequence</B>(int&nbsp;sequence1)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>sequence1</CODE> - the sequence to set</DL>
</DD>
</DL>
<HR>

<A NAME="setSuccess(boolean)"><!-- --></A><H3>
setSuccess</H3>
<PRE>
public void <B>setSuccess</B>(boolean&nbsp;success1)</PRE>
<DL>
<DD><p>
 <strong>Note:</strong> Once this routine has been called, most of
 the setters in this Payment will refuse to operate. It will begin
 closing-out. Only post-transaction setters will work, and they
 will stop working once <A HREF="../../../../org/starhope/appius/mb/Payment.html#close()"><CODE>close()</CODE></A> is called.
 </p>
 <p>
 This also causes the Payment object to
 <em>permanently discard</em> the credentials used for payment.
 </p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>success1</CODE> - true if the payment succeeded, false otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="setTest(boolean)"><!-- --></A><H3>
setTest</H3>
<PRE>
public void <B>setTest</B>(boolean&nbsp;testMode1)
             throws <A HREF="../../../../org/starhope/appius/except/AlreadyUsedException.html" title="class in org.starhope.appius.except">AlreadyUsedException</A></PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>testMode1</CODE> - If true, then this is meant to be a test
        transaction, and not a real payment.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/starhope/appius/except/AlreadyUsedException.html" title="class in org.starhope.appius.except">AlreadyUsedException</A></CODE> - if this payment has progressed too
         far to be marked as a test now</DL>
</DD>
</DL>
<HR>

<A NAME="setVerified(boolean)"><!-- --></A><H3>
setVerified</H3>
<PRE>
public void <B>setVerified</B>(boolean&nbsp;verified1)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>verified1</CODE> - the verified to set</DL>
</DD>
</DL>
<HR>

<A NAME="shouldRetry()"><!-- --></A><H3>
shouldRetry</H3>
<PRE>
public boolean <B>shouldRetry</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>true, if the engine should retry this transaction</DL>
</DD>
</DL>
<HR>

<A NAME="shredCredentials()"><!-- --></A><H3>
shredCredentials</H3>
<PRE>
public void <B>shredCredentials</B>()</PRE>
<DL>
<DD>Destroy the credentials utterly, once and for all.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="stamp()"><!-- --></A><H3>
stamp</H3>
<PRE>
public void <B>stamp</B>()</PRE>
<DL>
<DD>WRITEME: document this method (brpocock@star-hope.org, Oct 13,
 2009)
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="toJSON()"><!-- --></A><H3>
toJSON</H3>
<PRE>
public org.json.JSONObject <B>toJSON</B>()</PRE>
<DL>
<DD><p>
 Note, we do <em>not</em> save credentials to any kind of stream
 or storage (JSON, SQL, &c.). Likewise, firstTried is useless in
 future, since it's only useful in concert with credentials for
 orders that need a retry.
 </p>
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html#toJSON()">toJSON</A></CODE> in class <CODE><A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html" title="class in org.starhope.appius.sql">SQLPeerDatum</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>This object's data, serialized into JSON form.<DT><B>See Also:</B><DD><A HREF="../../../../org/starhope/appius/sql/SQLPeerDatum.html#toJSON()"><CODE>SQLPeerDatum.toJSON()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>toString</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A></CODE> in class <CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The order source, code, and sequence number of this payment as a string</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Payment.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/starhope/appius/mb/Messages.html" title="class in org.starhope.appius.mb"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/starhope/appius/mb/Payment.ItemType.html" title="enum in org.starhope.appius.mb"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/starhope/appius/mb/Payment.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Payment.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
