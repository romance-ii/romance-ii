package particle{	import flash.display.MovieClip;	import flash.geom.Point;	public class FluidProjectile extends Projectile	{		public function FluidProjectile(gR:MovieClip,xx:int,yy:int,vx:int=0,vy:int=0):void		{			super("Spew",gR);			mc.gotoAndStop(Math.ceil(Math.random()*mc.totalFrames));						x = xx;			y = yy;			vel.set(vx,vy);		}		override public function enterFrame():void		{			if( hitWall() ){				splatter();			}else{				scaleY = 0.05*vel.mag+1;				if(scaleY>2){					scaleY = 2;				}				scaleX = 1/scaleY;				rotation = Math.atan2(vel.y,vel.x)*(180/Math.PI)-90;			}			super.enterFrame();		}		protected function splatter():void{			MovieClip(parent).kill(this);		}		protected function hitWall():Boolean{			var stagePoint:Point = gameRoot.localToGlobal(new Point(x,y));			return gameRoot.wall.hitTestPoint(stagePoint.x,stagePoint.y,true);		}	}}